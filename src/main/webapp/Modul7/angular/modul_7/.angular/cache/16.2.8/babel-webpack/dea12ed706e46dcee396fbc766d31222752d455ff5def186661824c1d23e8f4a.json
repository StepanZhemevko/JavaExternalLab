{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/user.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../../pipes/price.pipe\";\nfunction CouponComponent_ng_container_43_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 21);\n    i0.ɵɵlistener(\"click\", function CouponComponent_ng_container_43_Template_div_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const coupon_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.redirectToOrder(coupon_r1));\n    });\n    i0.ɵɵelement(2, \"img\", 22);\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"price\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const coupon_r1 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Name: \", coupon_r1.name, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Short description: \", coupon_r1.description, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Price: \", i0.ɵɵpipeBind3(9, 4, coupon_r1.price, \"UAH\", \"left\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Valid until: \", coupon_r1.lastUpdateData, \"\");\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"show-scrollTop\": a0\n  };\n};\nexport class CouponComponent {\n  scrollToTop() {\n    window.scrollTo(0, 0);\n  }\n  constructor(router, userService) {\n    this.router = router;\n    this.userService = userService;\n    this.coupons = [];\n    this.searchTerm = '';\n    this.filteredCoupons = [];\n    this.userName = '';\n    this.infiniteScrollActive = false;\n    this.windowScrolled = false;\n  }\n  ngOnInit() {\n    window.addEventListener('scroll', () => {\n      this.windowScrolled = window.pageYOffset !== 0;\n      this.checkInfiniteScroll();\n    });\n  }\n  ngOnChanges(changes) {\n    if (changes.coupons) {\n      if (this.infiniteScrollActive) {\n        this.filteredCoupons.push(...this.coupons);\n        this.infiniteScrollActive = false;\n      } else {\n        this.filteredCoupons = this.coupons;\n      }\n    }\n  }\n  search() {\n    const searchTerm = this.searchTerm.toLowerCase();\n    this.filteredCoupons = this.coupons.filter(coupon => {\n      const name = coupon.name.toLowerCase();\n      return name.includes(searchTerm);\n    });\n  }\n  checkInfiniteScroll() {\n    const scrollHeight = document.documentElement.scrollHeight;\n    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n    const clientHeight = document.documentElement.clientHeight;\n    const scrollThreshold = 100;\n    if (scrollHeight - (scrollTop + clientHeight) < scrollThreshold) {\n      this.infiniteScrollActive = true;\n    }\n  }\n  redirectToOrder(coupon) {\n    this.router.navigate(['/order', coupon]);\n  }\n  static #_ = this.ɵfac = function CouponComponent_Factory(t) {\n    return new (t || CouponComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.UserService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CouponComponent,\n    selectors: [[\"app-coupon\"]],\n    inputs: {\n      coupons: \"coupons\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature],\n    decls: 46,\n    vars: 5,\n    consts: [[1, \"material-icons\"], [\"type\", \"text\", \"placeholder\", \"Search\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [\"id\", \"category\"], [\"value\", \"category1\"], [\"value\", \"category2\"], [\"value\", \"category3\"], [\"onclick\", \"window.location='/placing'\", 1, \"material-icons\"], [1, \"user-actions\"], [\"href\", \"/login\"], [\"href\", \"/registration\"], [\"href\", \"/creation\"], [1, \"page-title\"], [1, \"categories\"], [1, \"category\"], [\"src\", \"../../../../assets/images/category.jpg\", \"alt\", \"Category 1\"], [\"src\", \"../../../../assets/images/category.jpg\", \"alt\", \"Category 2\"], [\"src\", \"../../../../assets/images/category.jpg\", \"alt\", \"Category 3\"], [\"id\", \"coupons\", 1, \"coupons-table\"], [4, \"ngFor\", \"ngForOf\"], [1, \"to-top\", 3, \"ngClass\", \"click\"], [\"src\", \"../../../../assets/images/topUp.jpg\", \"alt\", \"top\"], [1, \"coupon\", 3, \"click\"], [\"src\", \"../../../../assets/images/coupon1.jpg\", \"alt\", \"Short description\"]],\n    template: function CouponComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"header\")(1, \"nav\")(2, \"ul\")(3, \"li\")(4, \"span\", 0);\n        i0.ɵɵtext(5, \"reorder\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"li\")(7, \"input\", 1);\n        i0.ɵɵlistener(\"ngModelChange\", function CouponComponent_Template_input_ngModelChange_7_listener($event) {\n          return ctx.searchTerm = $event;\n        })(\"input\", function CouponComponent_Template_input_input_7_listener() {\n          return ctx.search();\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"li\")(9, \"select\", 2)(10, \"option\", 3);\n        i0.ɵɵtext(11, \"Category 1\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"option\", 4);\n        i0.ɵɵtext(13, \"Category 2\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"option\", 5);\n        i0.ɵɵtext(15, \"Category 3\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(16, \"li\")(17, \"span\", 0);\n        i0.ɵɵtext(18, \"favorite\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(19, \"li\")(20, \"span\", 6);\n        i0.ɵɵtext(21, \"shopping_cart\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(22, \"div\", 7)(23, \"a\", 8);\n        i0.ɵɵtext(24, \"Login\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(25, \" | \");\n        i0.ɵɵelementStart(26, \"a\", 9);\n        i0.ɵɵtext(27, \"Sign Up\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(28, \" | \");\n        i0.ɵɵelementStart(29, \"a\", 10);\n        i0.ɵɵtext(30, \"Creat Coupon\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(31, \"main\")(32, \"div\", 11)(33, \"h1\");\n        i0.ɵɵtext(34, \"Coupons\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(35, \"div\", 12)(36, \"div\", 13);\n        i0.ɵɵelement(37, \"img\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"div\", 13);\n        i0.ɵɵelement(39, \"img\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"div\", 13);\n        i0.ɵɵelement(41, \"img\", 16);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(42, \"div\", 17);\n        i0.ɵɵtemplate(43, CouponComponent_ng_container_43_Template, 12, 8, \"ng-container\", 18);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(44, \"div\", 19);\n        i0.ɵɵlistener(\"click\", function CouponComponent_Template_div_click_44_listener() {\n          return ctx.scrollToTop();\n        });\n        i0.ɵɵelement(45, \"img\", 20);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngModel\", ctx.searchTerm);\n        i0.ɵɵadvance(36);\n        i0.ɵɵproperty(\"ngForOf\", ctx.filteredCoupons);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(3, _c0, ctx.windowScrolled));\n      }\n    },\n    dependencies: [i3.NgClass, i3.NgForOf, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i5.PricePipe],\n    styles: [\"body[_ngcontent-%COMP%] {\\n    background-color: #333;\\n    color: white;\\n    margin: 0;\\n    font-family: Arial, sans-serif;\\n}\\n\\nheader[_ngcontent-%COMP%] {\\n    background-color: #444;\\n    padding: 10px 0;\\n}\\n\\nnav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] {\\n    list-style: none;\\n    display: flex;\\n    justify-content: flex-end;\\n    align-items: center;\\n    margin-right: 20px;\\n}\\n\\nnav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\\n    margin-right: 20px;\\n}\\n\\nnav[_ngcontent-%COMP%]   input[type=\\\"text\\\"][_ngcontent-%COMP%], nav[_ngcontent-%COMP%]   select[_ngcontent-%COMP%] {\\n    padding: 5px;\\n    border: 1px solid #ccc;\\n    border-radius: 5px;\\n    background-color: #555;\\n    color: white;\\n}\\n\\nnav[_ngcontent-%COMP%]   select[_ngcontent-%COMP%] {\\n    margin-left: 10px;\\n}\\n\\n.user-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n    color: white;\\n    text-decoration: none;\\n}\\n\\n.user-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\\n    text-decoration: underline;\\n}\\n\\nmain[_ngcontent-%COMP%] {\\n    background-color: #333;\\n    padding: 20px;\\n}\\n\\n.page-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\n    font-size: 24px;\\n    color: white;\\n}\\n\\n.categories[_ngcontent-%COMP%] {\\n    display: flex;\\n    margin-top: 20px;\\n}\\n\\n.category[_ngcontent-%COMP%] {\\n    background-color: #555;\\n    color: white;\\n    padding: 5px 10px;\\n    border-radius: 5px;\\n    cursor: pointer;\\n    margin-right: 10px;\\n}\\n\\n.coupons-table[_ngcontent-%COMP%] {\\n    display: grid;\\n    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\\n    gap: 20px;\\n    margin-top: 20px;\\n}\\n\\n.coupon[_ngcontent-%COMP%] {\\n    background-color: #444;\\n    padding: 20px;\\n    border-radius: 5px;\\n    text-align: center;\\n}\\n\\n.coupon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n    max-width: 100%;\\n    height: auto;\\n    margin-bottom: 10px;\\n}\\n.categories[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{\\n    max-width: 100%;\\n    height: auto;\\n}\\n\\n\\n.coupon[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n    color: white;\\n}\\n.to-top[_ngcontent-%COMP%] {\\n  bottom: 0;\\n  cursor: pointer;\\n  margin: 0 8px 12px 0;\\n  position: fixed;\\n  right: 0;\\n  opacity: 0;\\n}\\n\\n.show-scrollTop[_ngcontent-%COMP%] {\\n  opacity: 1 !important;\\n  transition: all 0.2s ease-in-out;\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvY291cG9uL2NvdXBvbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksc0JBQXNCO0lBQ3RCLFlBQVk7SUFDWixTQUFTO0lBQ1QsOEJBQThCO0FBQ2xDOztBQUVBO0lBQ0ksc0JBQXNCO0lBQ3RCLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxnQkFBZ0I7SUFDaEIsYUFBYTtJQUNiLHlCQUF5QjtJQUN6QixtQkFBbUI7SUFDbkIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksWUFBWTtJQUNaLHNCQUFzQjtJQUN0QixrQkFBa0I7SUFDbEIsc0JBQXNCO0lBQ3RCLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxZQUFZO0lBQ1oscUJBQXFCO0FBQ3pCOztBQUVBO0lBQ0ksMEJBQTBCO0FBQzlCOztBQUVBO0lBQ0ksc0JBQXNCO0lBQ3RCLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxlQUFlO0lBQ2YsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGFBQWE7SUFDYixnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxzQkFBc0I7SUFDdEIsWUFBWTtJQUNaLGlCQUFpQjtJQUNqQixrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLGFBQWE7SUFDYiw0REFBNEQ7SUFDNUQsU0FBUztJQUNULGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLHNCQUFzQjtJQUN0QixhQUFhO0lBQ2Isa0JBQWtCO0lBQ2xCLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLGVBQWU7SUFDZixZQUFZO0lBQ1osbUJBQW1CO0FBQ3ZCO0FBQ0E7SUFDSSxlQUFlO0lBQ2YsWUFBWTtBQUNoQjs7O0FBR0E7SUFDSSxZQUFZO0FBQ2hCO0FBQ0E7RUFDRSxTQUFTO0VBQ1QsZUFBZTtFQUNmLG9CQUFvQjtFQUNwQixlQUFlO0VBQ2YsUUFBUTtFQUNSLFVBQVU7QUFDWjs7QUFFQTtFQUNFLHFCQUFxQjtFQUNyQixnQ0FBZ0M7QUFDbEMiLCJzb3VyY2VzQ29udGVudCI6WyJib2R5IHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICBtYXJnaW46IDA7XG4gICAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmO1xufVxuXG5oZWFkZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICM0NDQ7XG4gICAgcGFkZGluZzogMTBweCAwO1xufVxuXG5uYXYgdWwge1xuICAgIGxpc3Qtc3R5bGU6IG5vbmU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xufVxuXG5uYXYgdWwgbGkge1xuICAgIG1hcmdpbi1yaWdodDogMjBweDtcbn1cblxubmF2IGlucHV0W3R5cGU9XCJ0ZXh0XCJdLCBuYXYgc2VsZWN0IHtcbiAgICBwYWRkaW5nOiA1cHg7XG4gICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzU1NTtcbiAgICBjb2xvcjogd2hpdGU7XG59XG5cbm5hdiBzZWxlY3Qge1xuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xufVxuXG4udXNlci1hY3Rpb25zIGEge1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG59XG5cbi51c2VyLWFjdGlvbnMgYTpob3ZlciB7XG4gICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG59XG5cbm1haW4ge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMzMzM7XG4gICAgcGFkZGluZzogMjBweDtcbn1cblxuLnBhZ2UtdGl0bGUgaDEge1xuICAgIGZvbnQtc2l6ZTogMjRweDtcbiAgICBjb2xvcjogd2hpdGU7XG59XG5cbi5jYXRlZ29yaWVzIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIG1hcmdpbi10b3A6IDIwcHg7XG59XG5cbi5jYXRlZ29yeSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzU1NTtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgcGFkZGluZzogNXB4IDEwcHg7XG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG59XG5cbi5jb3Vwb25zLXRhYmxlIHtcbiAgICBkaXNwbGF5OiBncmlkO1xuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZmlsbCwgbWlubWF4KDI1MHB4LCAxZnIpKTtcbiAgICBnYXA6IDIwcHg7XG4gICAgbWFyZ2luLXRvcDogMjBweDtcbn1cblxuLmNvdXBvbiB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzQ0NDtcbiAgICBwYWRkaW5nOiAyMHB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5jb3Vwb24gaW1nIHtcbiAgICBtYXgtd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiBhdXRvO1xuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG59XG4uY2F0ZWdvcmllcyBpbWd7XG4gICAgbWF4LXdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogYXV0bztcbn1cblxuXG4uY291cG9uIHAge1xuICAgIGNvbG9yOiB3aGl0ZTtcbn1cbi50by10b3Age1xuICBib3R0b206IDA7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgbWFyZ2luOiAwIDhweCAxMnB4IDA7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgcmlnaHQ6IDA7XG4gIG9wYWNpdHk6IDA7XG59XG5cbi5zaG93LXNjcm9sbFRvcCB7XG4gIG9wYWNpdHk6IDEgIWltcG9ydGFudDtcbiAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZS1pbi1vdXQ7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementContainerStart","ɵɵelementStart","ɵɵlistener","CouponComponent_ng_container_43_Template_div_click_1_listener","restoredCtx","ɵɵrestoreView","_r3","coupon_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","redirectToOrder","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵelementContainerEnd","ɵɵadvance","ɵɵtextInterpolate1","name","description","ɵɵpipeBind3","price","lastUpdateData","CouponComponent","scrollToTop","window","scrollTo","constructor","router","userService","coupons","searchTerm","filteredCoupons","userName","infiniteScrollActive","windowScrolled","ngOnInit","addEventListener","pageYOffset","checkInfiniteScroll","ngOnChanges","changes","push","search","toLowerCase","filter","coupon","includes","scrollHeight","document","documentElement","scrollTop","clientHeight","scrollThreshold","navigate","_","ɵɵdirectiveInject","i1","Router","i2","UserService","_2","selectors","inputs","features","ɵɵNgOnChangesFeature","decls","vars","consts","template","CouponComponent_Template","rf","ctx","CouponComponent_Template_input_ngModelChange_7_listener","$event","CouponComponent_Template_input_input_7_listener","ɵɵtemplate","CouponComponent_ng_container_43_Template","CouponComponent_Template_div_click_44_listener","ɵɵproperty","ɵɵpureFunction1","_c0"],"sources":["C:\\Users\\Steve\\IdeaProjects\\Task2\\src\\main\\webapp\\Modul7\\angular\\modul_7\\src\\app\\shared\\components\\coupon\\coupon.component.ts","C:\\Users\\Steve\\IdeaProjects\\Task2\\src\\main\\webapp\\Modul7\\angular\\modul_7\\src\\app\\shared\\components\\coupon\\coupon.component.html"],"sourcesContent":["import { Component, Input, OnInit, OnChanges, SimpleChanges } from '@angular/core';\nimport { Router } from '@angular/router';\nimport {UserService} from \"../../services/user.service\";\n\ninterface Coupon {\n  name: string;\n  description: string;\n  price: number;\n  lastUpdateData: string;\n}\n\n@Component({\n  selector: 'app-coupon',\n  templateUrl: './coupon.component.html',\n  styleUrls: ['./coupon.component.css']\n})\nexport class CouponComponent implements OnInit, OnChanges {\n  @Input() coupons: Coupon[] = [];\n  searchTerm: string = '';\n  filteredCoupons: Coupon[] = [];\n\n  userName: string = '';\n\n  infiniteScrollActive = false;\n\n  scrollToTop(): void {\n    window.scrollTo(0, 0);\n  }\n\n  windowScrolled = false;\n\n  constructor(private router: Router, private userService: UserService) {}\n\n  ngOnInit() {\n    window.addEventListener('scroll', () => {\n      this.windowScrolled = window.pageYOffset !== 0;\n      this.checkInfiniteScroll();\n    });\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if ((changes as any).coupons) {\n      if (this.infiniteScrollActive) {\n        this.filteredCoupons.push(...this.coupons);\n        this.infiniteScrollActive = false;\n      } else {\n        this.filteredCoupons = this.coupons;\n      }\n    }\n  }\n\n  search() {\n    const searchTerm = this.searchTerm.toLowerCase();\n\n    this.filteredCoupons = this.coupons.filter(coupon => {\n      const name = coupon.name.toLowerCase();\n      return name.includes(searchTerm);\n    });\n  }\n\n  checkInfiniteScroll() {\n    const scrollHeight = document.documentElement.scrollHeight;\n    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n    const clientHeight = document.documentElement.clientHeight;\n\n    const scrollThreshold = 100;\n\n    if (scrollHeight - (scrollTop + clientHeight) < scrollThreshold) {\n      this.infiniteScrollActive = true;\n    }\n  }\n\n  redirectToOrder(coupon: Coupon) {\n    this.router.navigate(['/order', coupon]);\n  }\n}\n","<header>\n    <nav>\n        <ul>\n            <li><span class=\"material-icons\">reorder</span></li>\n            <li><input type=\"text\" [(ngModel)]=\"searchTerm\" placeholder=\"Search\" (input)=\"search()\" ></li>\n            <li>\n                <select id=\"category\">\n                    <option value=\"category1\">Category 1</option>\n                    <option value=\"category2\">Category 2</option>\n                    <option value=\"category3\">Category 3</option>\n                </select>\n            </li>\n            <li><span class=\"material-icons\">favorite</span></li>\n            <li><span class=\"material-icons\" onclick=\"window.location='/placing'\">shopping_cart</span> </li>\n        </ul>\n    </nav>\n    <div class=\"user-actions\">\n        <a href=\"/login\">Login</a> |\n      <a href=\"/registration\">Sign Up</a> |\n      <a href=\"/creation\">Creat Coupon</a>\n    </div>\n</header>\n<main>\n    <div class=\"page-title\">\n        <h1>Coupons</h1>\n    </div>\n    <div class=\"categories\">\n        <div class=\"category\"> <img src=\"../../../../assets/images/category.jpg\" alt=\"Category 1\"></div>\n        <div class=\"category\"><img src=\"../../../../assets/images/category.jpg\" alt=\"Category 2\"></div>\n        <div class=\"category\"><img src=\"../../../../assets/images/category.jpg\" alt=\"Category 3\"></div>\n    </div>\n\n    <div id=\"coupons\" class=\"coupons-table\"  >\n      <ng-container *ngFor=\"let coupon of filteredCoupons\">\n            <div class=\"coupon\" (click)=\"redirectToOrder(coupon)\" >\n              <img src=\"../../../../assets/images/coupon1.jpg\" alt=\"Short description\">\n              <p>Name: {{coupon.name}}</p>\n              <p>Short description: {{coupon.description}} </p>\n              <p>Price: {{coupon.price| price:'UAH':'left' }}</p>\n              <p>Valid until: {{coupon.lastUpdateData}}</p>\n            </div>\n      </ng-container>\n        </div>\n  <div class=\"to-top\" (click)=\"scrollToTop()\" [ngClass]=\"{ 'show-scrollTop': windowScrolled }\">\n    <img src=\"../../../../assets/images/topUp.jpg\" alt=\"top\"/>\n  </div>\n</main>\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}