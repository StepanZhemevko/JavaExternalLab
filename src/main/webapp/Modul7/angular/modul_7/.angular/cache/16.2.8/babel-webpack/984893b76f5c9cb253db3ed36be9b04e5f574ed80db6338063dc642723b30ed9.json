{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/shared/services/data.service\";\nimport * as i2 from \"../../../shared/components/coupon/coupon.component\";\nexport class DashboardComponent {\n  constructor(dataService) {\n    this.dataService = dataService;\n    this.coupons = [];\n    this.page = 1;\n  }\n  ngOnInit() {\n    this.fetchData();\n  }\n  onWindowScroll() {\n    if (window.innerHeight + window.scrollY >= document.body.offsetHeight) {\n      this.page++;\n      this.fetchData();\n    }\n  }\n  fetchData() {\n    this.dataService.getDataByService(this.page).subscribe(res => {\n      this.coupons.push(...res);\n    });\n  }\n  static #_ = this.ɵfac = function DashboardComponent_Factory(t) {\n    return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.DataService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DashboardComponent,\n    selectors: [[\"app-dashboard\"]],\n    hostBindings: function DashboardComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"scroll\", function DashboardComponent_scroll_HostBindingHandler($event) {\n          return ctx.onWindowScroll($event);\n        }, false, i0.ɵɵresolveWindow);\n      }\n    },\n    decls: 3,\n    vars: 2,\n    consts: [[\"type\", \"text\", \"placeholder\", \"Search by Name\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [3, \"coupons\"]],\n    template: function DashboardComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\")(1, \"input\", 0);\n        i0.ɵɵlistener(\"ngModelChange\", function DashboardComponent_Template_input_ngModelChange_1_listener($event) {\n          return ctx.searchTerm = $event;\n        })(\"input\", function DashboardComponent_Template_input_input_1_listener() {\n          return ctx.search();\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(2, \"app-coupon\", 1);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngModel\", ctx.searchTerm);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"coupons\", ctx.filteredCoupons);\n      }\n    },\n    dependencies: [i2.CouponComponent],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["DashboardComponent","constructor","dataService","coupons","page","ngOnInit","fetchData","onWindowScroll","window","innerHeight","scrollY","document","body","offsetHeight","getDataByService","subscribe","res","push","_","i0","ɵɵdirectiveInject","i1","DataService","_2","selectors","hostBindings","DashboardComponent_HostBindings","rf","ctx","$event","ɵɵresolveWindow","ɵɵelementStart","ɵɵlistener","DashboardComponent_Template_input_ngModelChange_1_listener","searchTerm","DashboardComponent_Template_input_input_1_listener","search","ɵɵelementEnd","ɵɵelement","ɵɵadvance","ɵɵproperty","filteredCoupons"],"sources":["C:\\Users\\Steve\\IdeaProjects\\Task2\\src\\main\\webapp\\Modul7\\angular\\modul_7\\src\\app\\my-module\\components\\dashboard\\dashboard.component.ts","C:\\Users\\Steve\\IdeaProjects\\Task2\\src\\main\\webapp\\Modul7\\angular\\modul_7\\src\\app\\my-module\\components\\dashboard\\dashboard.component.html"],"sourcesContent":["import { Component, OnInit, HostListener } from '@angular/core';\nimport { DataService } from 'src/app/shared/services/data.service';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.css']\n})\nexport class DashboardComponent implements OnInit {\n  coupons: any[] = [];\n  page = 1;\n\n  constructor(private dataService: DataService) {}\n\n  ngOnInit() {\n    this.fetchData();\n  }\n\n  @HostListener('window:scroll', ['$event'])\n  onWindowScroll() {\n    if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight) {\n      this.page++;\n      this.fetchData();\n    }\n  }\n\n  fetchData() {\n    this.dataService.getDataByService(this.page).subscribe((res: any) => {\n      this.coupons.push(...res);\n    });\n  }\n}\n","<!-- dashboard.component.html -->\n\n<div>\n  <input type=\"text\" [(ngModel)]=\"searchTerm\" placeholder=\"Search by Name\" (input)=\"search()\">\n</div>\n\n<app-coupon [coupons]=\"filteredCoupons\"></app-coupon>\n"],"mappings":";;;AAQA,OAAM,MAAOA,kBAAkB;EAI7BC,YAAoBC,WAAwB;IAAxB,KAAAA,WAAW,GAAXA,WAAW;IAH/B,KAAAC,OAAO,GAAU,EAAE;IACnB,KAAAC,IAAI,GAAG,CAAC;EAEuC;EAE/CC,QAAQA,CAAA;IACN,IAAI,CAACC,SAAS,EAAE;EAClB;EAGAC,cAAcA,CAAA;IACZ,IAAKC,MAAM,CAACC,WAAW,GAAGD,MAAM,CAACE,OAAO,IAAKC,QAAQ,CAACC,IAAI,CAACC,YAAY,EAAE;MACvE,IAAI,CAACT,IAAI,EAAE;MACX,IAAI,CAACE,SAAS,EAAE;;EAEpB;EAEAA,SAASA,CAAA;IACP,IAAI,CAACJ,WAAW,CAACY,gBAAgB,CAAC,IAAI,CAACV,IAAI,CAAC,CAACW,SAAS,CAAEC,GAAQ,IAAI;MAClE,IAAI,CAACb,OAAO,CAACc,IAAI,CAAC,GAAGD,GAAG,CAAC;IAC3B,CAAC,CAAC;EACJ;EAAC,QAAAE,CAAA,G;qBAtBUlB,kBAAkB,EAAAmB,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,WAAA;EAAA;EAAA,QAAAC,EAAA,G;UAAlBvB,kBAAkB;IAAAwB,SAAA;IAAAC,YAAA,WAAAC,gCAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;;iBAAlBC,GAAA,CAAArB,cAAA,CAAAsB,MAAA,CAAsB;QAAA,UAAAV,EAAA,CAAAW,eAAA;;;;;;;;QCNnCX,EAAA,CAAAY,cAAA,UAAK;QACgBZ,EAAA,CAAAa,UAAA,2BAAAC,2DAAAJ,MAAA;UAAA,OAAAD,GAAA,CAAAM,UAAA,GAAAL,MAAA;QAAA,EAAwB,mBAAAM,mDAAA;UAAA,OAAuCP,GAAA,CAAAQ,MAAA,EAAQ;QAAA,EAA/C;QAA3CjB,EAAA,CAAAkB,YAAA,EAA4F;QAG9FlB,EAAA,CAAAmB,SAAA,oBAAqD;;;QAHhCnB,EAAA,CAAAoB,SAAA,GAAwB;QAAxBpB,EAAA,CAAAqB,UAAA,YAAAZ,GAAA,CAAAM,UAAA,CAAwB;QAGjCf,EAAA,CAAAoB,SAAA,GAA2B;QAA3BpB,EAAA,CAAAqB,UAAA,YAAAZ,GAAA,CAAAa,eAAA,CAA2B"},"metadata":{},"sourceType":"module","externalDependencies":[]}