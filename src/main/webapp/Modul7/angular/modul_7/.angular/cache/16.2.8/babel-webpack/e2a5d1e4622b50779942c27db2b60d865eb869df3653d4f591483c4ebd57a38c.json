{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/shared/services/data.service\";\nimport * as i2 from \"../../../shared/components/coupon/coupon.component\";\nexport class DashboardComponent {\n  constructor(dataService) {\n    this.dataService = dataService;\n    this.coupons = [];\n    this.page = 1;\n    this.searchTerm = '';\n  }\n  ngOnInit() {\n    this.fetchData();\n  }\n  onWindowScroll() {\n    if (window.innerHeight + window.scrollY >= document.body.offsetHeight) {\n      this.page++;\n      this.fetchData();\n    }\n  }\n  fetchData() {\n    this.dataService.getDataByService(this.page).subscribe(res => {\n      this.coupons.push(...res);\n    });\n  }\n  // Add this method to update the searchTerm\n  updateSearchTerm(event) {\n    this.searchTerm = event.target.value;\n  }\n  static #_ = this.ɵfac = function DashboardComponent_Factory(t) {\n    return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.DataService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DashboardComponent,\n    selectors: [[\"app-dashboard\"]],\n    hostBindings: function DashboardComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"scroll\", function DashboardComponent_scroll_HostBindingHandler($event) {\n          return ctx.onWindowScroll($event);\n        }, false, i0.ɵɵresolveWindow);\n      }\n    },\n    decls: 1,\n    vars: 1,\n    consts: [[3, \"coupons\"]],\n    template: function DashboardComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-coupon\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"coupons\", ctx.coupons);\n      }\n    },\n    dependencies: [i2.CouponComponent],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["DashboardComponent","constructor","dataService","coupons","page","searchTerm","ngOnInit","fetchData","onWindowScroll","window","innerHeight","scrollY","document","body","offsetHeight","getDataByService","subscribe","res","push","updateSearchTerm","event","target","value","_","i0","ɵɵdirectiveInject","i1","DataService","_2","selectors","hostBindings","DashboardComponent_HostBindings","rf","ctx","$event","ɵɵresolveWindow","ɵɵelement","ɵɵproperty"],"sources":["C:\\Users\\Steve\\IdeaProjects\\Task2\\src\\main\\webapp\\Modul7\\angular\\modul_7\\src\\app\\my-module\\components\\dashboard\\dashboard.component.ts","C:\\Users\\Steve\\IdeaProjects\\Task2\\src\\main\\webapp\\Modul7\\angular\\modul_7\\src\\app\\my-module\\components\\dashboard\\dashboard.component.html"],"sourcesContent":["// dashboard.component.ts\nimport { Component, OnInit, HostListener } from '@angular/core';\nimport { DataService } from 'src/app/shared/services/data.service';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.css']\n})\nexport class DashboardComponent implements OnInit {\n  coupons: any[] = [];\n  page = 1;\n  searchTerm: string = '';\n\n  constructor(private dataService: DataService) {}\n\n  ngOnInit() {\n    this.fetchData();\n  }\n\n  @HostListener('window:scroll', ['$event'])\n  onWindowScroll() {\n    if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight) {\n      this.page++;\n      this.fetchData();\n    }\n  }\n\n  fetchData() {\n    this.dataService.getDataByService(this.page).subscribe((res: any) => {\n      this.coupons.push(...res);\n    });\n  }\n\n  // Add this method to update the searchTerm\n  updateSearchTerm(event: any) {\n    this.searchTerm = event.target.value;\n  }\n}\n","<app-coupon [coupons] = \"coupons\"></app-coupon>\n"],"mappings":";;;AASA,OAAM,MAAOA,kBAAkB;EAK7BC,YAAoBC,WAAwB;IAAxB,KAAAA,WAAW,GAAXA,WAAW;IAJ/B,KAAAC,OAAO,GAAU,EAAE;IACnB,KAAAC,IAAI,GAAG,CAAC;IACR,KAAAC,UAAU,GAAW,EAAE;EAEwB;EAE/CC,QAAQA,CAAA;IACN,IAAI,CAACC,SAAS,EAAE;EAClB;EAGAC,cAAcA,CAAA;IACZ,IAAKC,MAAM,CAACC,WAAW,GAAGD,MAAM,CAACE,OAAO,IAAKC,QAAQ,CAACC,IAAI,CAACC,YAAY,EAAE;MACvE,IAAI,CAACV,IAAI,EAAE;MACX,IAAI,CAACG,SAAS,EAAE;;EAEpB;EAEAA,SAASA,CAAA;IACP,IAAI,CAACL,WAAW,CAACa,gBAAgB,CAAC,IAAI,CAACX,IAAI,CAAC,CAACY,SAAS,CAAEC,GAAQ,IAAI;MAClE,IAAI,CAACd,OAAO,CAACe,IAAI,CAAC,GAAGD,GAAG,CAAC;IAC3B,CAAC,CAAC;EACJ;EAEA;EACAE,gBAAgBA,CAACC,KAAU;IACzB,IAAI,CAACf,UAAU,GAAGe,KAAK,CAACC,MAAM,CAACC,KAAK;EACtC;EAAC,QAAAC,CAAA,G;qBA5BUvB,kBAAkB,EAAAwB,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,WAAA;EAAA;EAAA,QAAAC,EAAA,G;UAAlB5B,kBAAkB;IAAA6B,SAAA;IAAAC,YAAA,WAAAC,gCAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;;iBAAlBC,GAAA,CAAAzB,cAAA,CAAA0B,MAAA,CAAsB;QAAA,UAAAV,EAAA,CAAAW,eAAA;;;;;;;;QCTnCX,EAAA,CAAAY,SAAA,oBAA+C;;;QAAnCZ,EAAA,CAAAa,UAAA,YAAAJ,GAAA,CAAA9B,OAAA,CAAqB"},"metadata":{},"sourceType":"module","externalDependencies":[]}